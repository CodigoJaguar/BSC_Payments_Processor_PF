"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createHook = void 0;
// FoalTS
const path_1 = require("path");
const file_system_1 = require("../../file-system");
const utils_1 = require("../../utils");
function createHook({ name }) {
    const fs = new file_system_1.FileSystem();
    let root = '';
    if (fs.exists('src/app/hooks')) {
        root = 'src/app/hooks';
    }
    else if (fs.exists('hooks')) {
        root = 'hooks';
    }
    const names = (0, utils_1.getNames)((0, path_1.basename)(name));
    const subdir = (0, path_1.dirname)(name);
    fs
        .cd(root)
        .ensureDir(subdir)
        .cd(subdir)
        .render('hook/hook.ts', `${names.kebabName}.hook.ts`, names)
        .ensureFile('index.ts')
        .addNamedExportIn('index.ts', names.upperFirstCamelName, `./${names.kebabName}.hook`);
}
exports.createHook = createHook;
