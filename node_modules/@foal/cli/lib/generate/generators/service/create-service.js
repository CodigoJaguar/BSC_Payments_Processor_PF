"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createService = void 0;
// FoalTS
const path_1 = require("path");
const file_system_1 = require("../../file-system");
const utils_1 = require("../../utils");
function createService({ name }) {
    const fs = new file_system_1.FileSystem();
    let root = '';
    if (fs.exists('src/app/services')) {
        root = 'src/app/services';
    }
    else if (fs.exists('services')) {
        root = 'services';
    }
    const names = (0, utils_1.getNames)((0, path_1.basename)(name));
    const subdir = (0, path_1.dirname)(name);
    fs
        .cd(root)
        .ensureDir(subdir)
        .cd(subdir)
        .render('service/service.empty.ts', `${names.kebabName}.service.ts`, names)
        .ensureFile('index.ts')
        .addNamedExportIn('index.ts', names.upperFirstCamelName, `./${names.kebabName}.service`);
}
exports.createService = createService;
