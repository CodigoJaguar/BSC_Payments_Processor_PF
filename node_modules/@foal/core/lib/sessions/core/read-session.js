"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readSession = void 0;
const session_1 = require("./session");
async function readSession(store, id) {
    const state = await store.read(id);
    if (state === null) {
        return null;
    }
    const session = new session_1.Session(store, state, { exists: true });
    if (session.isExpired) {
        await session.destroy();
        return null;
    }
    return session;
}
exports.readSession = readSession;
